!function(e,r){"function"==typeof define&&define.amd?define([],r.bind(this,e,e.videojs)):"undefined"!=typeof module&&module.exports?module.exports=r(e,e.videojs):r(e,e.videojs)}(window,function(e,r){"use strict";e.videojs_hotkeys={version:"0.2.16"};var t=function(t){function n(e){return 32===e.which||179===e.which}function o(e){return 37===e.which||177===e.which}function l(e){return 39===e.which||176===e.which}function u(e){return 38===e.which}function i(e){return 40===e.which}function c(e){return 77===e.which}function a(e){return 70===e.which}var s=this,m=s.el(),y=document,f={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,playPauseKey:n,rewindKey:o,forwardKey:l,volumeUpKey:u,volumeDownKey:i,muteKey:c,fullscreenKey:a,customKeys:{}};r.options.blockKeys=!1;var v=1,b=2,d=3,h=4,p=5,k=6,w=7,K=r.mergeOptions||r.util.mergeOptions;t=K(f,t||{});var S=t.volumeStep,T=t.seekStep,q=t.enableMute,j=t.enableVolumeScroll,F=t.enableFullscreen,g=t.enableNumbers,x=t.enableJogStyle,M=t.alwaysCaptureHotkeys,E=t.enableModifiersForNumbers;m.hasAttribute("tabIndex")||m.setAttribute("tabIndex","-1"),m.style.outline="none",!M&&s.autoplay()||s.one("play",function(){m.focus()}),s.on("userinactive",function(){var e=function(){clearTimeout(r)},r=setTimeout(function(){s.off("useractive",e),y.activeElement.parentElement==m.querySelector(".vjs-control-bar")&&m.focus()},10);s.one("useractive",e)}),s.on("play",function(){var e=m.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var D=function(e){var n,o=e.which,l=e.preventDefault;if(s.controls()){var u=y.activeElement;if(M||u==m||u==m.querySelector(".vjs-tech")||u==m.querySelector(".vjs-control-bar")||u==m.querySelector(".iframeblocker"))switch(P(e,s)){case v:l(),M&&e.stopPropagation(),s.paused()?s.play():s.pause();break;case b:if(l(),r.options.blockKeys)return;n=s.currentTime()-T,s.currentTime()<=T&&(n=0),s.currentTime(n);break;case d:if(l(),r.options.blockKeys)return;s.currentTime(s.currentTime()+T);break;case p:if(l(),r.options.blockKeys)return;x?(n=s.currentTime()-1,s.currentTime()<=1&&(n=0),s.currentTime(n)):s.volume(s.volume()-S);break;case h:if(l(),r.options.blockKeys)return;x?s.currentTime(s.currentTime()+1):s.volume(s.volume()+S);break;case k:q&&s.muted(!s.muted());break;case w:F&&(s.isFullscreen()?s.exitFullscreen():s.requestFullscreen());break;default:if((o>47&&59>o||o>95&&106>o)&&(E||!(e.metaKey||e.ctrlKey||e.altKey))&&g){var i=48;o>95&&(i=96);var c=o-i;l(),s.currentTime(s.duration()*c*.1)}for(var a in t.customKeys){var f=t.customKeys[a];f&&f.key&&f.handler&&f.key(e)&&(l(),f.handler(s,t))}}}},N=function(e){if(s.controls()){var r=e.relatedTarget||e.toElement||y.activeElement;r!=m&&r!=m.querySelector(".vjs-tech")&&r!=m.querySelector(".iframeblocker")||F&&(s.isFullscreen()?s.exitFullscreen():s.requestFullscreen())}},O=function(r){if(s.controls()){var t=r.relatedTarget||r.toElement||y.activeElement;if((M||t==m||t==m.querySelector(".vjs-tech")||t==m.querySelector(".iframeblocker")||t==m.querySelector(".vjs-control-bar"))&&j){r=e.event||r;var n=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail));r.preventDefault(),1==n?s.volume(s.volume()+S):-1==n&&s.volume(s.volume()-S)}}},P=function(e,r){return t.playPauseKey(e,r)?v:t.rewindKey(e,r)?b:t.forwardKey(e,r)?d:t.volumeUpKey(e,r)?h:t.volumeDownKey(e,r)?p:t.muteKey(e,r)?k:t.fullscreenKey(e,r)?w:void 0};return s.on("keydown",D),s.on("dblclick",N),s.on("mousewheel",O),s.on("DOMMouseScroll",O),this};r.plugin("hotkeys",t)});